#!/bin/sh
set -e

TARGET_DIR="./vendors"

# 引数でベンダーIDを受け取る
if [ $# -eq 0 ]; then
  echo "Usage: $0 <vendor_id1> [vendor_id2 ...]"
  exit 1
fi

for VENDOR_ID in "$@"; do
  REPO_URL="https://github.com/$VENDOR_ID/8ppoi-vendor.git"
  DIR_NAME="$TARGET_DIR/$VENDOR_ID"

  if [ -d "$DIR_NAME" ]; then
    echo "スキップ: $DIR_NAME は既に存在"
    continue
  fi

  echo "クローン: $VENDOR_ID → $DIR_NAME"
  git clone "$REPO_URL" "$DIR_NAME" >/dev/null 2>&1
done

echo "完了: 指定されたベンダーのリポジトリを clone しました"
